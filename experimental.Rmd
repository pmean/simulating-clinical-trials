---
title: "testing code"
author: "Steve Simon"
date: "April 22, 2017"
output: html_document
---

```{r preliminaries, echo=FALSE, message=FALSE, warning=FALSE}
library(broom)
library(cowplot)
library(dplyr)
library(ggplot2)
library(gridExtra)
library(knitr)
library(magrittr)
library(quantreg)
library(rstan)
library(tidyr)
rstan_options(auto_write = TRUE)
options(mc.cores = parallel::detectCores())
opts_chunk$set(
  echo=TRUE,
  message=FALSE,
  warning=FALSE)
```

```{r combo}

tst1 <- rnorm(100, 10, 1)

tst2 <- rnorm(100, -20, 5) 

df <- data.frame(tst1, tst2, v=0, h=15)

ggplot(df, aes(tst1)) +
  stat_bin() +
  geom_bar() +
  geom_point(aes(tst1, tst2)) +
  geom_boxplot(aes(x=h, y=tst2), width=0.1)
```


```{r comb01}

tst1 <- rnorm(100, 10, 1)
tst2 <- rnorm(100, -20, 5) 
df <- data.frame(tst1, tst2, v=0, h=15)

ggplot(df, aes(tst1)) +
  stat_bin(bins=20) +
  geom_bar() +
  geom_point(aes(tst1, tst2)) +
  geom_boxplot(aes(x=h, y=tst2), width=0.1) +
  expand_limits(y=-40) +
  scale_x_continuous(expand=c(0,0)) +
  scale_y_continuous(breaks=-10*(4:0), expand=c(0,0)) +
  coord_cartesian(xlim=c(0,16)) +
  theme(axis.line.y=element_line(color=NA)) +
  geom_segment(x=0, y=-40, xend=0, yend=0, color="red")
```

